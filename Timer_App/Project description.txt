Technical Specification: Circuit Timer with Live Activities
1. Project Overview
Build a native iOS "Circuit Training Timer" using SwiftUI. The app must allow users to configure work/rest intervals and rounds. A critical requirement is that it must function seamlessly while the user is using other apps (Netflix, YouTube, Spotify) via Live Activities and Audio Ducking.

2. Technical Stack
Language: Swift

Framework: SwiftUI

Background Handling: ActivityKit (Live Activities + Dynamic Island)

Audio: AVFoundation (AVAudioSession for background audio and ducking)

3. Core Features & Logic
Setup Screen: * Pickers for Work Time (seconds/minutes).

Pickers for Rest Time (seconds/minutes).

Picker for Number of Rounds.

Timer Engine:

A state machine with states: Idle, Work, Rest, Paused, Finished.

Automatic transition from Work to Rest until all rounds are completed.

Audio Feedback:

Distinct "Beep" sounds for: Start of Work, Start of Rest, and Workout Complete.

Crucial: Configure AVAudioSession to .ambient or .playback with .duckOthers option, so it lowers the volume of other apps (like music/series) only when the beep sounds.

4. Background & Multitasking Requirements
Live Activities: When the timer starts and the user leaves the app, a Live Activity must be triggered.

Display "Time Remaining" (Work or Rest).

Display "Current Round / Total Rounds".

Include a "Pause/Resume" button directly on the Lock Screen/Dynamic Island.

Background Tasks: Use a Timer that calculates the end-date (Date().addingTimeInterval(...)) rather than just counting down, to ensure accuracy even if the OS throttles the process.

5. User Interface (UI)
Minimalist Design: High contrast colors (e.g., Green for Work, Red for Rest).

Large Typography: The remaining time should be easily readable from a distance.

Progress Visualization: A circular progress bar or filling background that reflects the elapsed time of the current interval.

6. Implementation Instructions for Claude
Step 1: Create the basic SwiftUI Timer logic using @StateObject.

Step 2: Implement AVAudioSession to handle "Audio Ducking".

Step 3: Add a Widget Extension to the project to support ActivityKit.

Step 4: Define the ActivityAttributes to pass time and round data to the Live Activity.

Step 5: Ensure the timer remains accurate by using ScenePhase to detect when the app goes to the background and calculating the time difference.